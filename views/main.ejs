<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/main.css" rel="stylesheet"/>
    <title><%= title %></title>
</head>
<body>
    <%- include('navbar.ejs') %>
    
    <div class="main_header">
        <h1>온라인 코딩 멘토링</h1>
        <h2>지금 바로 신청하세요</h2>
    </div>

    <div class="container"></div>

    <% for(let i = 0; i < posts.length; i++) {%>
        <div id="menu2" class="menu">
            
            <div class="comment">
                <h1>제목 : <%= posts[i].title%></h1>
                <h2>멘토 : <%= posts[i].writer.nick%></h2>
                <% 
                  var postId = posts[i].id;
                  console.log(postId)
                %>
                <input class="post-id" value= '<%= posts[i].id%>' type="hidden">
                <button class="see-detail" onclick="location.href='/post/<%= posts[i].id%>'" >자세히 보기</button>
            </div>
        
        </div>
        <% }%>

        <div class="clearfix"></div>

       

</div>

    <script>

        // document.querySelectorAll('.see-detail').forEach(function(tag){
        //     tag.addEventListener('click', function() {
        //         const isLoggedIn = document.querySelector('#my-id');
        //         const postId = tag.parentNode.querySelector('.post-id').value;
        //         if(isLoggedIn){
        //             const xhr = new XMLHttpRequest();
        //             xhr.onload = function(){
        //                 if(xhr.status === 200){
        //                     console.log('success')
        //                 }else{
        //                     console.error(xhr.responseText);
        //                 }
        //             }
        //             xhr.open('GET', '/post/' + postId);
        //             xhr.send();
        //         }else{
        //             alert('로그인이 필요합니다!')
        //         }
        //     })
        // })
    
    
     
     
    </script>                        
                                       
</body>                                 
</html>                      